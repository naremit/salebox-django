{% load humanize %}

<hr>

<div style="overflow: hidden">
    {% if products.count.total > 0 %}
    <span>Showing {{ products.count.from }} {% if products.count.total > 1 %}to {{ products.count.to }}{% endif %} of {{ products.count.total }}</span>
    {% endif %}

    <select style="float: right" onchange="setOrder(this.value)">
        {% for o in order.options %}
            <option value="{{ o.code }}"{% if o.code == order.current %} selected{% endif %}>{{ o.label }}</option>
        {% endfor %}
    </select>
</div>

<hr>

<div class="product_list">
    {% if products.count.total > 0 %}
        {% for p in products.products %}
            <div class="product">
                <div class="img">
                    {% if p.p_image or p.v_image %}
                        <img src="{% if p.v_image %}{{ p.v_image }}{% else %}{{ p.p_image }}{% endif %}">
                    {% else %}
                        <div>No picture available</div>
                    {% endif %}
                </div>
                <div>{{ p.p_name }}</div>
                <div class="price">{{ p.price_major | intcomma }}<small>.{{ p.price_minor_str }}</small></div>
                {% if p.score and p.score_10 > 0 %}<strong>{{ p.score_10 }}/10</strong>{% endif %}
            </div>
        {% endfor %}
    {% else %}
        <p>No products found</p>
    {% endif %}
</div>

<hr>
